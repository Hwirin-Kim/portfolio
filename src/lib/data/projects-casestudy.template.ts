import { CaseStudyProject } from "@/types";

/**
 * 🎯 Case Study 프로젝트 템플릿
 * 
 * 특정 문제 해결, 마이그레이션, 성능 개선 등
 * 프로젝트의 일부분만 참여한 경우에 사용하세요!
 */

export const caseStudyTemplate: CaseStudyProject = {
  // ============================================
  // 기본 정보 (카드에 표시됨)
  // ============================================
  type: "case-study",
  category: "마이그레이션", // "신규개발" | "유지보수" | "리팩토링" | "마이그레이션" | "성능개선" | "기능추가"
  id: "unique-case-id",
  title: "레어리 - 결제 시스템 마이그레이션", // 회사명 + 작업 내용
  thumbnail: "/images/projects/case-study-1/thumbnail.jpg",
  shortDescription: "토스페이먼츠에서 KG이니시스로 결제 모듈 전환",
  
  // ============================================
  // 프로젝트 컨텍스트
  // ============================================
  context: {
    company: "주식회사 레어리",
    period: "2024.03 ~ 2024.04 (2개월)",
    role: "Frontend Developer",
  },
  
  // ============================================
  // 해결한 문제 (핵심 콘텐츠!)
  // ============================================
  challenge: {
    title: "토스페이먼츠 → KG이니시스 결제 시스템 마이그레이션",
    
    background: `
레어리의 메인 서비스에서 사용 중이던 토스페이먼츠 결제 시스템을
KG이니시스로 전환해야 하는 상황이 발생했습니다.
수수료 구조 변경과 추가 기능 요구사항 때문에 마이그레이션이 필요했습니다.
    `.trim(),
    
    problem: `
- 기존 토스페이먼츠 결제 흐름이 전체 서비스에 깊게 결합되어 있음
- 약 15개의 컴포넌트에서 결제 모듈 사용 중
- 사용자 경험을 해치지 않으면서 무중단 전환 필요
- 기존 결제 데이터와의 호환성 유지
- 테스트 환경에서의 충분한 검증 필요
    `.trim(),
    
    solution: `
1. **어댑터 패턴 적용**: 결제 시스템을 추상화하여 교체 가능한 구조로 변경
2. **단계별 마이그레이션**: 
   - 먼저 테스트 환경에서 전환 및 검증
   - Feature Flag로 일부 사용자에게만 우선 적용
   - 점진적으로 전체 사용자로 확대
3. **안전장치 구축**:
   - 기존 토스페이먼츠 코드 유지 (롤백 대비)
   - 에러 트래킹 및 모니터링 강화
   - 결제 실패 시 자동 알림 시스템 구축
4. **테스트 강화**: 
   - E2E 테스트로 모든 결제 플로우 검증
   - 다양한 결제 수단 및 엣지 케이스 테스트
    `.trim(),
    
    result: `
- ✅ 무중단으로 결제 시스템 전환 완료
- ✅ 결제 성공률 99.2% → 99.7%로 개선
- ✅ 평균 결제 처리 시간 15% 단축
- ✅ 월 결제 수수료 약 20% 절감
- ✅ 추후 다른 결제 시스템 교체 시에도 재사용 가능한 구조 확립
    `.trim(),
    
    techStack: [
      "React",
      "TypeScript",
      "KG이니시스 API",
      "Jest",
      "React Testing Library",
    ],
    
    metrics: {
      before: "99.2%",
      after: "99.7%",
      label: "결제 성공률",
    },
  },
};

// ============================================
// 📝 작성 가이드 (Case Study용)
// ============================================

/*

## Case Study는 언제 사용하나요?

✅ 사용하면 좋은 경우:
- 기존 프로젝트에 일부 기능만 추가/개선
- 마이그레이션 작업
- 성능 최적화
- 버그 수정 (중요한 것)
- 리팩토링
- 레거시 코드 개선

❌ 사용하지 않는 게 좋은 경우:
- A to Z 전체 개발에 참여한 경우 → Showcase 사용
- 단순 유지보수나 작은 버그 수정
- 1-2시간 걸린 간단한 작업

## 작성 팁

### 1. Title (제목)
- "회사명 - 핵심 작업 내용" 형식 추천
- 예: "레어리 - 결제 시스템 마이그레이션"
- 예: "배민커넥트 - 주문 처리 성능 70% 개선"

### 2. Background (배경)
- 왜 이 작업이 필요했는지
- 비즈니스 컨텍스트 설명
- 2-3문장으로 간결하게

### 3. Problem (문제)
- 구체적인 문제점 나열
- 기술적 제약사항
- bullet point로 명확하게

### 4. Solution (해결)
- 어떤 접근 방식으로 해결했는지
- 단계별로 설명
- 왜 그런 선택을 했는지 포함

### 5. Result (결과)
- 수치화된 성과 (필수!)
- 개선 효과
- 비즈니스 임팩트

### 6. Metrics (선택)
- Before/After를 명확히
- 퍼센트, 시간, 개수 등 구체적 수치

## 예시들

### 성능 개선 Case
```typescript
{
  title: "상품 리스트 렌더링 성능 70% 개선",
  background: "10,000개 이상의 상품을 표시할 때 심각한 성능 문제 발생",
  problem: "모든 아이템을 한번에 렌더링하여 초기 로딩 및 스크롤이 느림",
  solution: "React Virtualized 도입 및 이미지 lazy loading 적용",
  result: "초기 렌더링 시간 5초 → 1.5초, 부드러운 스크롤 달성",
  metrics: { before: "5초", after: "1.5초", label: "초기 렌더링" }
}
```

### 마이그레이션 Case
```typescript
{
  title: "Redux → Zustand 상태 관리 마이그레이션",
  background: "복잡한 Redux boilerplate로 인한 개발 속도 저하",
  problem: "새 기능 추가 시 많은 파일 수정, 학습 곡선 높음",
  solution: "Zustand로 점진적 마이그레이션, 타입 안정성 유지",
  result: "번들 사이즈 15% 감소, 신규 개발자 온보딩 시간 단축",
}
```

### 리팩토링 Case
```typescript
{
  title: "레거시 Class 컴포넌트 → Hooks 전환",
  background: "유지보수가 어려운 Class 컴포넌트 다수 존재",
  problem: "로직 재사용 어려움, 테스트 복잡도 높음",
  solution: "Custom Hooks로 로직 분리, 단계적 마이그레이션",
  result: "코드 라인 수 30% 감소, 테스트 커버리지 향상",
}
```

*/

